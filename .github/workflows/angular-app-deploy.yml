name: Angular-app-deploy
on:
    workflow_run:
        workflows: ["angular-app-build"]
        types:
            - completed

jobs:
    deploy-dev:
        runs-on: ubuntu-22.04
        environment: Dev
        steps:
            - name: Deploy to Development
              run: echo "Development deployment successful"

    deploy-qa:
        needs: deploy-dev
        runs-on: ubuntu-22.04
        environment: QA
        steps:
           - name: Deploy to QA
             run: echo "Staging deployment successful"

    deploy-prod:
        needs: deploy-qa
        runs-on: ubuntu-22.04
        environment: Prod
        steps:
          - name: Deploy to Production
            run: echo "Production deployment successful"